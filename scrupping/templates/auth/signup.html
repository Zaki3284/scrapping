<!DOCTYPE html>
<html lang="en" dir="ltr" class="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PriceFox 🦊 | Sign Up</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    {% load static %}
    <link rel="stylesheet" href="{% static 'css/login.css' %}">
    <link rel="stylesheet" href="{% static 'css/signup.css' %}">
</head>
<body class="bg-gray-50 dark:bg-gray-900 transition-colors duration-300">
    <!-- Navigation -->
    <nav class="bg-gray-800 dark:bg-gray-700 shadow-lg w-full p-4 flex justify-between items-center text-white">
        <a href="{% url 'landing_page' %}" class="flex items-center font-bold text-lg hover:text-amber-400 ms-10">
            <i class="fas fa-car-side me-2"></i>PriceFox 🦊
        </a>
        <div class="flex items-center space-x-4 me-10">
            <a href="{% url 'login' %}" class="hover:text-amber-400">
                <span data-lang="en">Already have an account?</span>
                <span data-lang="ar" class="hidden">هل لديك حساب بالفعل؟</span>
                <span data-lang="fr" class="hidden">Vous avez déjà un compte?</span>
            </a>
        </div>
    </nav>

    <!-- Signup Form -->
    <div class="container mx-auto mt-16 px-4 max-w-md">
        <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8">
            <h1 class="text-3xl font-bold mb-6 text-gray-800 dark:text-white" data-lang="en">Create Account</h1>
            <h1 class="text-3xl font-bold mb-6 text-gray-800 dark:text-white hidden arabic-font" data-lang="ar">إنشاء حساب</h1>
            <h1 class="text-3xl font-bold mb-6 text-gray-800 dark:text-white hidden" data-lang="fr">Créer un compte</h1>

            <form class="space-y-6" id="signupForm" method="POST" action="{% url 'register' %}">
                {% csrf_token %}
                <!-- Full Name Field -->
                <div>
                    <label class="block text-gray-700 dark:text-gray-300 mb-2">
                        <span data-lang="en">Full Name</span>
                        <span data-lang="ar" class="hidden">الاسم الكامل</span>
                        <span data-lang="fr" class="hidden">Nom complet</span>
                    </label>
                    <div class="flex items-center border dark:border-gray-600 rounded-lg px-3 py-2">
                        <i class="fas fa-user text-gray-400 me-2"></i>
                        <input type="text" name="name" required 
                            class="w-full bg-transparent focus:outline-none"
                            placeholder="User Client">
                    </div>
                </div>

                <!-- Email Field -->
                <div>
                    <label class="block text-gray-700 dark:text-gray-300 mb-2">
                        <span data-lang="en">Email</span>
                        <span data-lang="ar" class="hidden">البريد الإلكتروني</span>
                        <span data-lang="fr" class="hidden">E-mail</span>
                    </label>
                    <div class="flex items-center border dark:border-gray-600 rounded-lg px-3 py-2">
                        <i class="fas fa-envelope text-gray-400 me-2"></i>
                        <input type="email" name="email" required 
                            class="w-full bg-transparent focus:outline-none"
                            placeholder="iscae@example.com">
                    </div>
                </div>

                <!-- Phone Number Field -->
                <div>
                    <label class="block text-gray-700 dark:text-gray-300 mb-2">
                        <span data-lang="en">Phone</span>
                        <span data-lang="ar" class="hidden">الهاتف</span>
                        <span data-lang="fr" class="hidden">Téléphone</span>
                    </label>
                    <div class="flex items-center border dark:border-gray-600 rounded-lg px-3 py-2">
                        <i class="fas fa-phone text-gray-400 me-2"></i>
                        <input type="tel" name="phone_number" required 
                            class="w-full bg-transparent focus:outline-none"
                            placeholder="+222 3456789">
                    </div>
                </div>

                <!-- Password Field -->
                <div>
                    <label class="block text-gray-700 dark:text-gray-300 mb-2">
                        <span data-lang="en">Password</span>
                        <span data-lang="ar" class="hidden">كلمة المرور</span>
                        <span data-lang="fr" class="hidden">Mot de passe</span>
                    </label>
                    <div class="flex items-center border dark:border-gray-600 rounded-lg px-3 py-2">
                        <i class="fas fa-lock text-gray-400 me-2"></i>
                        <input type="password" name="password1" required 
                            class="w-full bg-transparent focus:outline-none"
                            placeholder="••••••••"
                            id="passwordInput">
                        <button type="button" 
                            class="text-gray-400 hover:text-amber-500 ms-2"
                            id="togglePassword">
                            <i class="fas fa-eye"></i>
                        </button>
                    </div>
                </div>

                <!-- Confirm Password Field -->
                <div>
                    <label class="block text-gray-700 dark:text-gray-300 mb-2">
                        <span data-lang="en">Confirm Password</span>
                        <span data-lang="ar" class="hidden">تأكيد كلمة المرور</span>
                        <span data-lang="fr" class="hidden">Confirmer le mot de passe</span>
                    </label>
                    <div class="flex items-center border dark:border-gray-600 rounded-lg px-3 py-2">
                        <i class="fas fa-lock text-gray-400 me-2"></i>
                        <input type="password" name="password2" required 
                            class="w-full bg-transparent focus:outline-none"
                            placeholder="••••••••"
                            id="confirmPasswordInput">
                        <button type="button" 
                            class="text-gray-400 hover:text-amber-500 ms-2"
                            id="toggleConfirmPassword">
                            <i class="fas fa-eye"></i>
                        </button>
                    </div>
                </div>

                <!-- Error Message -->
                <div id="errorMessage" class="text-red-500 hidden"></div>

                <!-- Submit Button -->
                <button type="submit" 
                    class="w-full bg-amber-500 hover:bg-amber-600 text-white py-3 rounded-lg font-semibold">
                    <span data-lang="en">Create Account</span>
                    <span data-lang="ar" class="hidden">إنشاء حساب</span>
                    <span data-lang="fr" class="hidden">Créer un compte</span>
                </button>

                <!-- Divider -->
                <div class="relative">
                    <div class="absolute inset-0 flex items-center">
                        <div class="w-full border-t border-gray-300"></div>
                    </div>
                    <div class="relative flex justify-center text-sm">
                        <span class="px-2 bg-white dark:bg-gray-800 text-gray-500">
                            <span data-lang="en">Or continue with</span>
                            <span data-lang="ar" class="hidden">أو تابع باستخدام</span>
                            <span data-lang="fr" class="hidden">Ou continuer avec</span>
                        </span>
                    </div>
                </div>

                <!-- Social Login Buttons -->
                <div class="grid grid-cols-1 gap-3">
                    {% comment %} <button type="button" 
                        class="flex items-center justify-center py-2 border rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700">
                        <i class="fab fa-apple"></i>
                    </button> {% endcomment %}
                    
                    {% comment %} <button type="button" 
                        class="flex items-center justify-center py-2 border rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700">
                        <i class="fab fa-google text-red-500"></i>
                    </button> {% endcomment %}

                    <button type="button" 
                        class="flex items-center justify-center py-2 border rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700"
                        onclick="window.location.href='{% url 'apple_signin' %}'">
                        <i class="fab fa-apple"></i>
                        <span class="ms-2" data-lang="en">Sign up with Apple</span>
                        <span class="ms-2 hidden" data-lang="ar">التسجيل باستخدام Apple</span>
                        <span class="ms-2 hidden" data-lang="fr">S'inscrire avec Apple</span>
                    </button>
                    <button type="button" 
                        class="flex items-center justify-center py-2 border rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700">
                        <i class="fab fa-google text-red-500"></i>
                        <span class="ms-2" data-lang="en">Sign up with Google</span>
                    </button>

                    
                    
                    {% comment %} <button type="button" 
                        class="flex items-center justify-center py-2 border rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700">
                        <i class="fab fa-facebook text-blue-600"></i>
                    </button> {% endcomment %}
                    
                </div>
            </form>
        </div>
    </div>

    <!-- Footer -->
    <footer class="mt-16 bg-gray-800 dark:bg-gray-700 text-white py-8">
        <div class="container mx-auto px-4">
            <div class="border-t border-gray-700 mt-8 pt-8 flex flex-col md:flex-row justify-between items-center">
                <div class="flex space-x-4 mb-4 md:mb-0">
                    <select id="languageSelect" class="bg-gray-700 text-white px-4 py-2 rounded-lg">
                        <option value="en">English</option>
                        <option value="ar">العربية</option>
                        <option value="fr">Français</option>
                    </select>
                    <button id="themeToggle" class="bg-amber-500 hover:bg-amber-600 px-4 py-2 rounded-lg">
                        <i class="fas fa-moon me-2"></i>
                        <span data-lang="en">Night Mode</span>
                        <span data-lang="ar" class="hidden arabic-font">الوضع الليلي</span>
                        <span data-lang="fr" class="hidden">Mode Nuit</span>
                    </button>
                </div>
                <p class="text-gray-400 text-sm">&copy; <span id="copyrightYear"></span> PriceFox 🦊. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Inline JavaScript -->
    <script>
        // Toggle Password Visibility
        const togglePassword = document.getElementById('togglePassword');
        const passwordInput = document.getElementById('passwordInput');
        const toggleConfirmPassword = document.getElementById('toggleConfirmPassword');
        const confirmPasswordInput = document.getElementById('confirmPasswordInput');

        if (togglePassword && passwordInput) {
            togglePassword.addEventListener('click', function () {
                const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
                passwordInput.setAttribute('type', type);
                this.querySelector('i').classList.toggle('fa-eye-slash');
            });
        }

        if (toggleConfirmPassword && confirmPasswordInput) {
            toggleConfirmPassword.addEventListener('click', function () {
                const type = confirmPasswordInput.getAttribute('type') === 'password' ? 'text' : 'password';
                confirmPasswordInput.setAttribute('type', type);
                this.querySelector('i').classList.toggle('fa-eye-slash');
            });
        }

        // Set Copyright Year
        const copyrightYear = document.getElementById('copyrightYear');
        if (copyrightYear) {
            copyrightYear.textContent = new Date().getFullYear();
        }

        // Theme Toggle
        const themeToggle = document.getElementById('themeToggle');
        if (themeToggle) {
            themeToggle.addEventListener('click', function () {
                document.documentElement.classList.toggle('dark');
                localStorage.setItem('theme', document.documentElement.classList.contains('dark') ? 'dark' : 'light');
            });

            // Load saved theme
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme === 'dark') {
                document.documentElement.classList.add('dark');
            }
        }

        // Language Selector
        const languageSelect = document.getElementById('languageSelect');
        if (languageSelect) {
            languageSelect.addEventListener('change', function () {
                const selectedLang = this.value;
                document.querySelectorAll('[data-lang]').forEach(element => {
                    if (element.getAttribute('data-lang') === selectedLang) {
                        element.classList.remove('hidden');
                    } else {
                        element.classList.add('hidden');
                    }
                });
            });
        }
    </script>
    
</body>
</html>